!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=20)}([function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(4),l=function(e){return e&&e.__esModule?e:{default:e}}(u),s=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"baseView";i(this,t);var u=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,"div",a));if(void 0===n)throw{message:"Invalid templateFunc"};return u.templateFunc=n,u.element.innerHTML=n(o),u.hide(),u}return o(t,e),a(t,[{key:"changeData",value:function(e){this.element.innerHTML=this.templateFunc(e)}}]),t}(l.default);t.default=s},function(e,t,n){"use strict";function i(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var o=r(i);return[n].concat(i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"})).concat([o]).join("\n")}return[n].join("\n")}function r(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=i(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){function i(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=p[i.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](i.parts[o]);for(;o<i.parts.length;o++)r.parts.push(c(i.parts[o],t))}else{for(var a=[],o=0;o<i.parts.length;o++)a.push(c(i.parts[o],t));p[i.id]={id:i.id,refs:1,parts:a}}}}function r(e,t){for(var n=[],i={},r=0;r<e.length;r++){var o=e[r],a=t.base?o[0]+t.base:o[0],u=o[1],l=o[2],s=o[3],c={css:u,media:l,sourceMap:s};i[a]?i[a].parts.push(c):n.push(i[a]={id:a,parts:[c]})}return n}function o(e,t){var n=y(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=g[g.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),g.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=y(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,r)}}function a(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=g.indexOf(e);t>=0&&g.splice(t,1)}function u(e){var t=document.createElement("style");return e.attrs.type="text/css",s(t,e.attrs),o(e,t),t}function l(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",s(t,e.attrs),o(e,t),t}function s(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function c(e,t){var n,i,r,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var s=m++;n=b||(b=u(t)),i=f.bind(null,n,s,!1),r=f.bind(null,n,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(t),i=h.bind(null,n,t),r=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=u(t),i=d.bind(null,n),r=function(){a(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}function f(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=_(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function d(e,t){var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function h(e,t,n){var i=n.css,r=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||o)&&(i=w(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([i],{type:"text/css"}),u=e.href;e.href=URL.createObjectURL(a),u&&URL.revokeObjectURL(u)}var p={},v=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),y=function(e){var t={};return function(n){if(void 0===t[n]){var i=e.call(this,n);if(i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[n]=i}return t[n]}}(function(e){return document.querySelector(e)}),b=null,m=0,g=[],w=n(51);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=v()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=r(e,t);return i(n,t),function(e){for(var o=[],a=0;a<n.length;a++){var u=n[a],l=p[u.id];l.refs--,o.push(l)}if(e){i(r(e,t),t)}for(var a=0;a<o.length;a++){var l=o[a];if(0===l.refs){for(var s=0;s<l.parts.length;s++)l.parts[s]();delete p[l.id]}}}};var _=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){if(i(this,e),e.instance)return e.instance;this.subscribers=[],e.instance=this}return r(e,[{key:"subscribe",value:function(e){this.subscribers.push(e)}},{key:"unsubscribe",value:function(e){this.subscribers.slice(this.subscribers.indexOf(e),1)}},{key:"emitEvent",value:function(e){this.subscribers.forEach(function(t){t.eventFired(e)})}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;i(this,e),o?this.element=o:(this.element=document.createElement(n),this.element.className=r,t.appendChild(this.element))}return r(e,[{key:"show",value:function(){for(var e=0;e<this.element.childNodes.length;e++)this.element.childNodes[e].nodeType===Node.ELEMENT_NODE&&(this.element.childNodes[e].style.visibility="visible");this.element.style.visibility="visible",this.onShow()}},{key:"hide",value:function(){for(var e=0;e<this.element.childNodes.length;e++)this.element.childNodes[e].nodeType===Node.ELEMENT_NODE&&(this.element.childNodes[e].style.visibility="hidden");this.element.style.visibility="hidden",this.onHide()}},{key:"onShow",value:function(){}},{key:"onHide",value:function(){}},{key:"addEventHandler",value:function(e,t){this.element.addEventListener(e,t)}},{key:"removeEventHandler",value:function(e,t){this.element.removeEventListener(e,t)}},{key:"move",value:function(e,t,n,i){this.element.style.left=e,this.element.style.right=n,this.element.style.top=t,this.element.style.bottom=i}},{key:"appendChildWidget",value:function(e){this.element.appendChild(e.element)}},{key:"appendChildNode",value:function(e){this.element.appendChild(e)}},{key:"clearClassList",value:function(){this.element.classList=null}},{key:"resize",value:function(e,t){this.element.style.width=e,this.element.style.height=t}},{key:"positionType",get:function(){return this.element.position},set:function(e){this.element.position=e}},{key:"background",get:function(){return this.element.style.background},set:function(e){this.element.style.background=e}},{key:"style",get:function(){return this.element.style}},{key:"className",set:function(e){this.element.className=e},get:function(){return this.element.className}},{key:"classList",get:function(){return this.classList},set:function(e){this.element.classList=e}},{key:"idName",set:function(e){this.element.id=e},get:function(){return this.element.id}},{key:"text",set:function(e){this.element.textContent=e},get:function(){return this.element.textContent}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){i(this,e)}return r(e,[{key:"show",value:function(){}},{key:"hide",value:function(){var e=document.getElementsByClassName("all_game");e[0]&&document.body.removeChild(e[0]),e=null}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(10),u=i(a),l=n(3),s=i(l),c=new s.default,f=function(){function e(t){r(this,e),this.view=t,this.createBackButton(),this.title="Base Menu",this.url="baseUrl"}return o(e,[{key:"hide",value:function(){this.view.hide(),this.onHide()}},{key:"show",value:function(){this.view.show(),this.onShow()}},{key:"onShow",value:function(){}},{key:"onHide",value:function(){}},{key:"goBackHandler",value:function(){c.emitEvent({type:"goBack"})}},{key:"deleteBackButton",value:function(){this.backButton.removeEventHandler("click",this.goBackHandler),delete this.backButton}},{key:"createBackButton",value:function(){var e=this;this.view.element.childNodes.forEach(function(t){"back"===t.dataset.id&&(e.backButton=new u.default(t),e.backButton.addEventHandler("click",e.goBackHandler))})}}]),e}();t.default=f},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(31),a=function(e){return e&&e.__esModule?e:{default:e}}(o),u=function(){function e(){i(this,e)}return r(e,null,[{key:"getLeaders",value:function(){return a.default.FetchGet("/leaderboard")}},{key:"getAboutText",value:function(){return a.default.FetchGet("/about")}},{key:"isValidMail",value:function(e){var t=/[0-9A-Za-z.\-\_]+@[0-9A-Za-z.\-\_]+\.[A-Za-z\-\_]+/,n=e.match(t);return null!=n&&n[0]==e}},{key:"checkUser",value:function(e,t){return a.default.FetchPost("/login",{loginEmail:e,password:t})}},{key:"registerUser",value:function(e,t,n){return a.default.FetchPost("/users",{login:t,email:e,password:n})}},{key:"getUser",value:function(){return a.default.FetchGet("/info")}},{key:"logoutUser",value:function(){return a.default.FetchGet("/logout")}}]),e}();t.default=u},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(){(new p.default).hide(),v.emitEvent({type:"changeMenu",newMenuName:"/"})}Object.defineProperty(t,"__esModule",{value:!0}),t.BackMenu=t.LoseScene=t.WinScene=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(4),c=i(s),f=n(3),d=i(f),h=n(5),p=i(h),v=new d.default,y=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"show",value:function(){var e=new c.default(document.body,"div","all_game"),t=new c.default(document.body,"h1","youWinLose");t.text="You Win!",e.appendChildWidget(t),t=new c.default(document.body,"h1","newScore"),t.text="Score: 40 +0",e.appendChildWidget(t);var n=new c.default(document.body,"button","backButton");n.text="Back to Menu",e.appendChildWidget(n),n.element.addEventListener("click",function(){u()}),n.element.classList.add("flatLightGray")}}]),t}(p.default),b=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"show",value:function(){var e=new c.default(document.body,"div","all_game"),t=new c.default(document.body,"h1","youWinLose");t.text="You Lose!",e.appendChildWidget(t),t=new c.default(document.body,"h1","newScore"),t.text="Score: 40 -0",e.appendChildWidget(t);var n=new c.default(document.body,"button","backButton backButtonWinLose");n.text="Back to Menu",e.appendChildWidget(n),n.element.addEventListener("click",function(){u()}),n.element.classList.add("flatLightGray")}}]),t}(p.default);t.WinScene=y,t.LoseScene=b,t.BackMenu=u},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(6),l=i(u),s=n(10),c=i(s),f=n(3),d=i(f),h=new d.default,p=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.buttons={},n.view.element.childNodes.forEach(function(e){var t=e.dataset.id;void 0!==t&&"back"!==t&&(n.buttons[t]=new c.default(e),e.addEventListener("click",function(){h.emitEvent({type:"changeMenu",newMenuName:e.dataset.id})}))}),n.title="Sea Battle",n.url="/",n}return a(t,e),t}(l.default);t.default=p},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),u=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,null,"","",e))}return o(t,e),t}(u.default);t.default=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o),u=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;i(this,e),this.view=new a.default(document.body,generateMessageBox,{message:n,title:t},"messageBox");var u=null;this.view.element.childNodes.forEach(function(e){"okButton"===e.dataset.name&&(u=e)}),u.onclick=o?function(){o(),r.view.hide(),window.removeEventListener("resize",r.resize)}:function(){r.view.hide(),window.removeEventListener("resize",r.resize)},this.view.show(),this.resize(),window.addEventListener("resize",this.resize.bind(this))}return r(e,[{key:"resize",value:function(){this.view.element.style.left=(document.body.offsetWidth-this.view.element.offsetWidth)/2+"px",this.view.element.style.top=(document.body.offsetHeight-this.view.element.offsetHeight)/2+"px"}}]),e}();t.default=u},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.data;if(t=JSON.parse(t),"MsgYouInQueue"==(t=t.class))alert("Ожидание игрока");else if("MsgLobbyCreated"==t){var n=new u.default;n.show()}else if("MsgPing"==t){var i=new s.default;i.pingSocket()}else console.log("Ошибка")}function o(e){var t=new f.default;if(t.setGame(e),t.getGame()){var n=new s.default;n.messageSocket(r),n.openSocket(),n.closeSocket()}else{(new u.default).show()}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),u=i(a),l=n(16),s=i(l),c=n(15),f=i(c);t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){if(i(this,e),e.__instance)return e.__instance;this.listShip=[],e.__instance=this}return r(e,[{key:"getShip",value:function(e){return this.listShip[e]}},{key:"getTurnShip",value:function(e){return this.getShip(e).getTurn()}},{key:"setShip",value:function(e,t){this.listShip[t]=e}},{key:"setShipLiveField",value:function(e,t){this.getShip(e).setLiveField(t)}},{key:"setTurnShip",value:function(e,t){this.getShip(e).setTurn(t)}},{key:"canDoMatrix",value:function(){for(var e=0;e<this.listShip.length;e++){if(!this.getShip(e).getLive().length)return!1}return!0}},{key:"CreateMatrix",value:function(){for(var e=[],t=0;t<100;t++)e[t]=0;for(var n=0;n<this.listShip.length;n++)for(var i=this.getShip(n),r=i.getLive(),o=0;o<r.length;o++)e[10*+r[o][0]+ +r[o][2]]=n+1;return e}},{key:"createShipArray",value:function(){for(var e=[],t=0;t<10;t++){var n={};n.length=this.getShip(t).getSize(),n.isVertical=!!this.getTurnShip(t),n.rowPos=+this.getShip(t).getLive()[0][0],n.colPos=+this.getShip(t).getLive()[0][2],e[t]=n}return e}},{key:"clearList",value:function(){this.listShip=[]}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(5),s=i(l),c=n(4),f=i(c),d=n(44),h=i(d),p=n(15),v=i(p),y=n(45),b=i(y),m=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"show",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new f.default(document.body,"div","all_game"),i=new f.default(document.body,"h1","inline_block h1_my");(i.text="Username",n.appendChildWidget(i),i=new f.default(document.body,"h1","inline_block h1_enemy"),i.text="Противник",n.appendChildWidget(i),this.createField(n,e),(new v.default).getGame())?new b.default(t):(new h.default).newGameLogic(e);this.createField(n,e,1)}},{key:"createField",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i="enemy_field";n&&(i="my_field");var r=new f.default(document.body,"table",i);e.appendChildWidget(r);for(var o=[" ","А","Б","В","Г","Д","Е","Ж","З","И","К"],a=0;a<11;a++){var u=new f.default(document.body,"tr");r.appendChildWidget(u);for(var l=0;l<11;l++)if(0==a){var s=new f.default(document.body,"td","table_field_td");s.text=o[l],u.appendChildWidget(s)}else if(0==l){var c=new f.default(document.body,"td","table_field_td");c.text=a,u.appendChildWidget(c)}else!function(){var e=new f.default(document.body,"td","field_ship table_field_td");t[10*(a-1)+(l-1)]&&n&&e.element.classList.add("shipOK"),u.appendChildWidget(e),n?e.element.id=a-1+"+"+(l-1):(e.addEventHandler("click",function(){(new v.default).getGame()?(new b.default).shot(e.element):(new h.default).shot(e.element)}),e.element.id=a-1+"-"+(l-1))}()}}}]),t}(s.default);t.default=m},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){if(i(this,e),e.__instance)return e.__instance;e.__instance=this}return r(e,[{key:"getGame",value:function(){return this.game}},{key:"setGame",value:function(e){this.game=e}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){if(i(this,e),e.__instance)return e.__instance;this.socket=new WebSocket("wss://sea-battle-back.herokuapp.com/game"),e.__instance=this,this.messagePing={},this.messagePing.class="MsgPing",this.messagePing=JSON.stringify(this.messagePing,"")}return r(e,[{key:"openSocket",value:function(){this.socket.onopen=function(e){this.pingSocket(),console.log("Сессия открыта")}.bind(this)}},{key:"sendSocket",value:function(e){this.socket.send(e)}},{key:"messageSocket",value:function(e){this.socket.onmessage=function(t){e(t)}}},{key:"closeSocket",value:function(){this.socket.onclose=function(e){console.log("Сессия закрыта")}}},{key:"pingSocket",value:function(){this.sendSocket(this.messagePing)}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(4),a=function(e){return e&&e.__esModule?e:{default:e}}(o),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;i(this,e),t&&(this.label=new a.default(null,"","",t)),n&&(this.input=new a.default(null,"","",n)),r&&(this.errorLab=new a.default(null,"","",r))}return r(e,[{key:"clear",value:function(){this.input.element.value=""}},{key:"clearError",value:function(){this.errorLab.text=""}},{key:"value",set:function(e){this.input.element.value=e},get:function(){return this.input.element.value}},{key:"error",set:function(e){this.errorLab.text=e},get:function(){return this.errorLab.text}}]),e}();t.default=u},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(5),s=i(l),c=n(4),f=i(c),d=n(41),h=i(d),p=n(43),v=i(p),y=n(13),b=i(y),m=n(46),g=i(m),w=n(19),_=i(w),k=n(8),M=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"show",value:function(){var e=new f.default(document.body,"div","all_game"),t=new f.default(document.body,"h1","placeShips");t.text="Place your ships",e.appendChildWidget(t);var n=new f.default(document.body,"button","backButton backButtonScene");n.element.classList.add("flatLightGray"),n.text="Back to Menu",n.element.addEventListener("click",function(){(0,k.BackMenu)()}),n.element.classList.add("flatLightGray"),e.appendChildWidget(n);var i=new f.default(document.body,"button","turnButton");i.element.classList.add("flatLightGray"),i.text="Turn ships",e.appendChildWidget(i);var r=new _.default;r.clearFlag(),i.element.addEventListener("click",function(){r.turnShips()});var o=new f.default(document.body,"div","shipField");e.appendChildWidget(o);var a=1,u=1,l=new b.default;l.clearList();for(var s=4;s>0;s--){var c=new f.default;o.appendChildWidget(c);for(var d=s;d>0;d--)l.setShip(new g.default(o,u,a),u-1),u++;a++}var p=new f.default(document.body,"table","table_field");e.appendChildWidget(p);for(var y=[" ","А","Б","В","Г","Д","Е","Ж","З","И","К"],m=0;m<11;m++){var w=new f.default(document.body,"tr");p.appendChildWidget(w);for(var M=0;M<11;M++)if(0==m){var O=new f.default(document.body,"td","table_field_td");O.text=y[M],w.appendChildWidget(O)}else if(0==M){var x=new f.default(document.body,"td","table_field_td");x.text=m,w.appendChildWidget(x)}else{var E=new f.default(document.body,"td","droppable field table_field_td");E.idName=m-1+" "+(M-1),w.appendChildWidget(E)}}var P=new f.default;e.appendChildWidget(P);var S=new f.default(document.body,"button","randomShips");S.text="Random ships",S.element.classList.add("flatLightGray"),e.appendChildWidget(S);var j=new f.default(document.body,"button","next_button");j.text="Next",j.element.classList.add("flatLightGray"),e.appendChildWidget(j),j.element.addEventListener("click",v.default),(0,h.default)()}}]),t}(s.default);t.default=M},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){if(i(this,e),e.__instance)return e.__instance;this.flag=0,e.__instance=this}return r(e,[{key:"turnShips",value:function(){this.turnShipX2(),this.turnShipX3(),this.turnShipX4(),this.changeFlag()}},{key:"turnShipX2",value:function(){var e=document.getElementsByClassName("shipX2");if(this.getFlag())for(var t=0;t<e.length;t++)e[t].style.width="74px",e[t].style.height="38px";else for(var n=0;n<e.length;n++)e[n].style.height="74px",e[n].style.width="38px"}},{key:"turnShipX3",value:function(){var e=document.getElementsByClassName("shipX3");if(this.getFlag())for(var t=0;t<e.length;t++)e[t].style.width="112px",e[t].style.height="38px";else for(var n=0;n<e.length;n++)e[n].style.height="112px",e[n].style.width="38px"}},{key:"turnShipX4",value:function(){var e=document.getElementsByClassName("shipX4");if(this.getFlag())for(var t=0;t<e.length;t++)e[t].style.width="154px",e[t].style.height="38px";else for(var n=0;n<e.length;n++)e[n].style.height="154px",e[n].style.width="38px"}},{key:"getFlag",value:function(){return this.flag}},{key:"setFlag",value:function(e){this.flag=e}},{key:"changeFlag",value:function(){this.getFlag()?this.setFlag(0):this.setFlag(1)}},{key:"clearFlag",value:function(){this.setFlag(0)}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(21),o=i(r),a=n(3),u=i(a);n(49),n(52),n(54),n(56),n(58),n(60),n(62),n(64),n(66);var l=new u.default,s=new o.default;l.subscribe(s),s.go(),window.onpopstate=s.go.bind(s)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(22),s=i(l),c=n(23),f=i(c),d=n(24),h=i(d),p=n(25),v=i(p),y=n(26),b=i(y),m=n(27),g=i(m),w=n(28),_=i(w),k=n(29),M=i(k),O=n(9),x=i(O),E=n(30),P=i(E),S=n(32),j=i(S),L=n(33),B=i(L),C=n(34),F=i(C),T=n(35),I=i(T),N=n(36),G=i(N),R=n(37),U=i(R),W=n(40),X=i(W),A=n(47),z=i(A),D=n(48),H=i(D),Y=function(e){function t(){var e;if(r(this,t),t.instance)return e=t.instance,o(n,e);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.menus={"/":new x.default(f.default),"/leaderboardMenu":new j.default(v.default),"/aboutMenu":new P.default(h.default),"/startGame":new U.default,"/selectMode":new B.default(b.default),"/startGame/login":new F.default(g.default),"/startGame/register":new I.default(_.default),"/startGame/offline":new X.default,"/startGame/online":new z.default,"/startGame/multiplayer":new H.default},n.currentMenu=n.menus["/"],n.currentMenu.show(),n.profileBlock=new G.default(M.default),n.profileBlock.show(),t.instance=n,n}return a(t,e),u(t,[{key:"changeMenu",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.currentMenu.hide(),this.currentMenu=this.menus[e],!0===t&&window.history.pushState(null,this.currentMenu.title,this.currentMenu.url),this.currentMenu.show()}},{key:"go",value:function(){this.changeMenu(window.location.pathname,!1)}},{key:"eventFired",value:function(e){"changeMenu"===e.type?!0===e.bPushState?this.changeMenu(e.newMenuName,!0):this.changeMenu(e.newMenuName):"goBack"===e.type?window.history.back():"updateUser"===e.type&&this.profileBlock.updateUser()}},{key:"registerMenu",value:function(e,t){this.menus[e]=t}}]),t}(s.default);t.default=Y},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){i(this,e)}return r(e,[{key:"eventFired",value:function(e){}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=new r.default(document.body,generateMainMenuView,{title:"Main Menu",menus:[{name:"Start Game",id:"/startGame"},{name:"Leaderboard",id:"/leaderboardMenu"},{name:"About",id:"/aboutMenu"}]});t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=new r.default(document.body,generateAboutMenuView,{title:"About",text:[]});t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=new r.default(document.body,generateLeaderboardView,{title:"Leaderboard",players:[]});t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=new r.default(document.body,generateStartGameMenuView,{title:"Game Mode",menus:[{name:"Stand-alone",id:"/startGame/offline"},{name:"Singleplayer",id:"/startGame/online"},{name:"Multiplayer",id:"/startGame/multiplayer"}]});t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=new r.default(document.body,generateLoginMenuView,{title:"Login"});t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=new r.default(document.body,generateRegisterMenuView,{title:"Register"});t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=new r.default(document.body,generateUserProfileBlockView,{loggedIn:!1,name:null},"profileBlock");t.default=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(6),s=i(l),c=n(7),f=i(c),d=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.title="About menu",n.url="/aboutMenu",n}return a(t,e),u(t,[{key:"onShow",value:function(){var e=this;this.view.changeData({title:"About",text:[]}),f.default.getAboutText().then(function(t){e.deleteBackButton(),e.view.changeData({title:"About",text:t.text}),e.createBackButton()}).catch(function(t){e.deleteBackButton(),e.view.changeData({title:"About",text:[t]}),e.createBackButton()})}}]),t}(s.default);t.default=d},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=window.location.protocol+"//"+window.location.host,a=function(){function e(){i(this,e)}return r(e,null,[{key:"FetchGet",value:function(t){var n=(e.BaseUrl||o)+t;return fetch(n,{method:"GET",mode:"cors",credentials:"include"}).then(function(e){if(e.status>=400)throw e;return e.json()})}},{key:"FetchPost",value:function(t,n){var i=(e.BaseUrl||o)+t;return fetch(i,{method:"POST",mode:"cors",credentials:"include",body:JSON.stringify(n),headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){if(e.status>=400)throw e;return e.json()})}}]),e}();a.BaseUrl="https://sea-battle-back.herokuapp.com/api",t.default=a},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(6),s=i(l),c=n(7),f=i(c),d=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.title="Leaderboard",n.url="/leaderboardMenu",n}return a(t,e),u(t,[{key:"onShow",value:function(){var e=this;this.view.changeData({title:"Leaderboard",players:[]}),f.default.getLeaders().then(function(t){e.deleteBackButton(),e.view.changeData({title:"Leaderboard",players:t}),e.createBackButton()}).catch(function(t){e.deleteBackButton(),e.view.changeData({title:"Leaderboard",players:[t]}),e.createBackButton()})}}]),t}(s.default);t.default=d},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),u=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.title="Game Mode",n.url="/selectMode",n}return o(t,e),t}(u.default);t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(6),s=i(l),c=n(17),f=i(c),d=n(7),h=i(d),p=n(3),v=i(p),y=n(11),b=i(y),m=new v.default,g=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.inputMail=new f.default(null,document.loginForm.loginMailInput,document.getElementById("loginMailError")),n.inputPassword=new f.default(null,document.loginForm.loginPasswordInput,document.getElementById("loginPasswordError")),document.loginForm.onsubmit=function(){return n.submitHandler()},n.title="Login",n.url="/startGame/login",n}return a(t,e),u(t,[{key:"onShow",value:function(){this.inputMail.clear(),this.inputMail.clearError(),this.inputPassword.clear(),this.inputPassword.clearError()}},{key:"submitHandler",value:function(){return this.validate()&&h.default.checkUser(this.inputMail.value,this.inputPassword.value).then(function(e){m.emitEvent({type:"updateUser"}),m.emitEvent({type:"changeMenu",newMenuName:"/"})}).catch(function(e){new b.default("Login Error",e.response)}),!1}},{key:"validate",value:function(){this.inputMail.clearError(),this.inputPassword.clearError();var e=this.inputMail.value,t=this.inputPassword.value,n=!0;return""===e&&(this.inputMail.error="Mail is required!",n=!1),""===t&&(this.inputPassword.error="Password is required!",n=!1),!!n&&(!!h.default.isValidMail(e)||(this.inputMail.error="Incorrect mail specified!",!1))}}]),t}(s.default);t.default=g},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(6),s=i(l),c=n(17),f=i(c),d=n(7),h=i(d),p=n(3),v=i(p),y=n(11),b=i(y),m=new v.default,g=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.inputMail=new f.default(null,document.registerForm.registerMailInput,document.getElementById("registerMailError")),n.inputNickname=new f.default(null,document.registerForm.registerNicknameInput,document.getElementById("registerNicknameError")),n.inputPassword=new f.default(null,document.registerForm.registerPasswordInput,document.getElementById("registerPasswordError")),n.inputRepeatPassword=new f.default(null,document.registerForm.registerRepeatPasswordInput,document.getElementById("registerRepeatPasswordError")),document.registerForm.onsubmit=function(){return n.submitHandler()},n.title="Register",n.url="/startGame/register",n}return a(t,e),u(t,[{key:"onShow",value:function(){this.clearInput(),this.clearErrorInput()}},{key:"clearInput",value:function(){this.inputMail.clear(),this.inputNickname.clear(),this.inputPassword.clear(),this.inputRepeatPassword.clear()}},{key:"clearErrorInput",value:function(){this.inputMail.clearError(),this.inputNickname.clearError(),this.inputPassword.clearError(),this.inputRepeatPassword.clearError()}},{key:"submitHandler",value:function(){var e=this.inputPassword.value;return this.validate()&&h.default.registerUser(this.inputMail.value,this.inputNickname.value,this.inputPassword.value).then(function(t){h.default.checkUser(t.email,e).then(function(){m.emitEvent({type:"updateUser"})}),m.emitEvent({type:"changeMenu",newMenuName:"/"})}.bind(e)).catch(function(e){new b.default("Register error",e.response)}),!1}},{key:"validate",value:function(){this.clearErrorInput();var e=this.inputMail.value,t=this.inputNickname.value,n=this.inputPassword.value,i=this.inputRepeatPassword.value,r=!0;return""===e?(this.inputMail.error="Mail is required!",r=!1):h.default.isValidMail(e)||(this.inputMail.error="Invalid mail!",r=!1),""===t&&(this.inputNickname.error="Nickname is required!",r=!1),""===n&&(this.inputPassword.error="Password is required!",r=!1),""===i&&(this.inputRepeatPassword.error="Repeat Password is required",r=!1),n!==i&&(this.inputRepeatPassword.error="Repeat Password and Password are different!",r=!1),r}}]),t}(s.default);t.default=g},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(6),s=i(l),c=n(7),f=i(c),d=n(10),h=i(d),p=n(3),v=i(p),y=n(5),b=(i(y),n(8)),m=new v.default,g=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),u(t,[{key:"onShow",value:function(){this.updateUser()}},{key:"createButtons",value:function(){var e=document.getElementById("logout");void 0!==e&&null!==e&&(this.logout=new h.default(e),this.logout.addEventHandler("click",this.logoutAction));var t=document.getElementById("login");void 0!==t&&null!==t&&(this.login=new h.default(document.getElementById("login")),this.login.addEventHandler("click",this.loginAction));var n=document.getElementById("register");void 0!==n&&void 0!==n&&(this.register=new h.default(document.getElementById("register")),this.register.addEventHandler("click",this.registerAction))}},{key:"removeButtons",value:function(){void 0!==this.login&&(this.login.removeEventHandler("click",this.loginAction),delete this.login),void 0!==this.logout&&(this.logout.removeEventHandler("click",this.logoutAction),delete this.logout),void 0!==this.register&&(this.register.removeEventHandler("click",this.registerAction),delete this.register)}},{key:"logoutAction",value:function(){f.default.logoutUser().then(function(e){m.emitEvent({type:"updateUser"}),(0,b.BackMenu)()})}},{key:"loginAction",value:function(){m.emitEvent({type:"changeMenu",newMenuName:"/startGame/login"})}},{key:"registerAction",value:function(){m.emitEvent({type:"changeMenu",newMenuName:"/startGame/register"})}},{key:"updateUser",value:function(){var e=this;f.default.getUser().then(function(t){e.removeButtons(),void 0===t.status?e.view.changeData({name:t.login,loggedIn:!0,score:t.score}):e.view.changeData({loggedIn:!1}),e.createButtons()}).catch(function(e){})}}]),t}(s.default);t.default=g},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(38),u=i(a),l=n(39),s=i(l),c=n(7),f=i(c),d=n(3),h=i(d),p=function(){function e(){r(this,e),this.startGameMenuController=new u.default(s.default),this.url="/startGame",this.title="Start Game"}return o(e,[{key:"show",value:function(){var e=this;f.default.getUser().then(function(t){if(0===t.status)e.startGameMenuController.show();else{(new h.default).emitEvent({type:"changeMenu",newMenuName:"/selectMode"})}}).catch(function(e){})}},{key:"hide",value:function(){var e=this;f.default.getUser().then(function(t){0===t.status&&e.startGameMenuController.hide()}).catch(function(e){})}}]),e}();t.default=p},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),u=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.title="Start Game",n.url="/startGame",n}return o(t,e),t}(u.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=new r.default(document.body,generateStartGameMenuView,{title:"Start Game",menus:[{name:"Log-in",id:"/startGame/login"},{name:"Register",id:"/startGame/register"}]});t.default=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(12),u=i(a),l=n(5),s=i(l),c=function(){function e(){r(this,e),this.url="/startGame/offline"}return o(e,[{key:"show",value:function(){(0,u.default)(0)}},{key:"hide",value:function(){(new s.default).hide()}}]),e}();t.default=c},function(e,t,n){"use strict";function i(e){var t=e.target.closest(".draggable");if(t)return h.elem=t,v=+t.textContent,e.pageX?(h.downX=e.pageX,h.downY=e.pageY):(h.downX=e.changedTouches[0].pageX,h.downY=e.changedTouches[0].pageY),!1}function r(e){if(h.elem){if(!h.avatar){var t=0,n=0;if(e.pageX?(t=e.pageX-h.downX,n=e.pageY-h.downY):(t=e.changedTouches[0].pageX-h.downX,n=e.changedTouches[0].pageY-h.downY),Math.abs(t)<3&&Math.abs(n)<3)return;if(h.avatar=u(),h.avatar.style.opacity=.5,!h.avatar)return void(h={});var i=s(h.avatar);h.shiftX=h.downX-i.left,h.shiftY=h.downY-i.top,l()}return e.pageX?(h.avatar.style.left=e.pageX-15+"px",h.avatar.style.top=e.pageY-15+"px"):(h.avatar.style.left=e.changedTouches[0].pageX-15+"px",h.avatar.style.top=e.changedTouches[0].pageY-15+"px"),p.removalBacklight(),p.fieldLighting(event,v,h),!1}}function o(e){h.avatar&&a(),h={},v=0}function a(){p.fieldLighting(event,v,h,1)?h.elem.style.display="none":(h.avatar.style.opacity=1,h.avatar.rollback())}function u(){var e=h.elem,t={parent:e.parentNode,nextSibling:e.nextSibling,position:e.position||"",left:e.left||"",top:e.top||"",zIndex:e.zIndex||""};return e.rollback=function(){t.parent.insertBefore(e,t.nextSibling),e.style.position=t.position,e.style.left=t.left,e.style.top=t.top,e.style.zIndex=t.zIndex},e}function l(){var e=h.avatar;document.body.appendChild(e),e.style.zIndex=999,e.style.position="absolute"}function s(e){var t=e.getBoundingClientRect();return{top:t.top+pageYOffset,left:t.left+pageXOffset}}function c(){document.onmousedown=i,document.onmousemove=r,document.onmouseup=o,document.ontouchstart=i,document.ontouchmove=r,document.ontouchend=o,document.onpointerdown=i,document.onpointermove=r,document.onpointerup=o}Object.defineProperty(t,"__esModule",{value:!0});var f=n(42),d=function(e){return e&&e.__esModule?e:{default:e}}(f),h={},p=new d.default,v=0;t.default=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(13),u=i(a),l=n(19),s=i(l),c=function(){function e(){r(this,e)}return o(e,[{key:"fieldLighting",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=new s.default;return this.getFreeFields(t,r.getFlag(),e,n)?(this.putShip(t,r.getFlag(),e,n,i),1):0}},{key:"removalBacklight",value:function(){for(var e=document.getElementsByClassName("droppable"),t=0;t<e.length;t++)e[t].style.cssText="background-color: transparent;"}},{key:"getFreeFields",value:function(e,t,n,i){var r=void 0,o=this.getElemUnderMouse(n,i);if(null==o)return!1;if(null==(r=o.closest(".droppable")))return!1;for(var a=0;a<e;a++){if(null==(o=t?document.getElementById(+r.id[0]+a+" "+ +r.id[2]):document.getElementById(+r.id[0]+" "+(+r.id[2]+a))))return!1;if(!o.classList.contains("droppable"))return!1}return!0}},{key:"putShip",value:function(e,t,n,i,r){var o=this.getElemUnderMouse(n,i),a=void 0,l=void 0;if(r)for(var s=0;s<e;s++){a=t?document.getElementById(+o.id[0]+s+" "+ +o.id[2]):document.getElementById(+o.id[0]+" "+(+o.id[2]+s));for(var c=-1;c<2;c++)for(var f=-1;f<2;f++)(l=document.getElementById(+a.id[0]+c+" "+(+a.id[2]+f)))&&(l.classList.remove("droppable"),l.style.cssText="background-color: #E8C40C;")}for(var d=0;d<e;d++)if(a=t?document.getElementById(+o.id[0]+d+" "+ +o.id[2]):document.getElementById(+o.id[0]+" "+(+o.id[2]+d)),r){a.style.cssText="background-color: #51FF00;",a.classList.remove("droppable");var h=new u.default,p=0,v=0;n.clientX?(p=n.clientX,v=n.clientY):(p=n.changedTouches[0].clientX,v=n.changedTouches[0].clientY);var y=document.elementFromPoint(p,v);h.setShipLiveField(+y.id-1,a.id),h.setTurnShip(+y.id-1,t)}else a.style.cssText="background-color: #FF2507;"}},{key:"getElemUnderMouse",value:function(e,t){t.avatar.hidden=!0;var n=0,i=0;e.clientX?(n=e.clientX,i=e.clientY):(n=e.changedTouches[0].clientX,i=e.changedTouches[0].clientY);var r=document.elementFromPoint(n,i);return t.avatar.hidden=!1,r}}]),e}();t.default=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){(new f.default).show(e,t)}function o(e){var t={};return t.class="MsgShipPosition",t.ships=e,t=JSON.stringify(t,"")}function a(){var e=new h.default;if(e.canDoMatrix()){var t=e.CreateMatrix();(new s.default).hide();if((new b.default).getGame()){var n=new v.default,i=o(e.createShipArray());n.messageSocket(function(e){var n=e.data;n=JSON.parse(n);var i=n.class;if("MsgGameStarted"==i)r(t,n.first);else if("MsgPing"==i){var o=new v.default;o.pingSocket()}else console.log("Ошибка")}),n.sendSocket(i),alert("Ожидание противника")}else{(new f.default).show(t)}}else alert("You haven't placed all the ships!")}Object.defineProperty(t,"__esModule",{value:!0});var u=n(11),l=(i(u),n(18)),s=i(l),c=n(14),f=i(c),d=n(13),h=i(d),p=n(16),v=i(p),y=n(15),b=i(y);t.default=a},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(8),a=n(14),u=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(){function e(){if(i(this,e),e.__instance)return e.__instance;e.__instance=this,this.enemyMatrix=[1,0,0,0,6,6,0,0,7,0,0,0,0,0,0,0,0,0,7,0,0,0,0,5,5,0,0,0,0,0,3,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,0,2,0,0,0,10,0,0,8,0,0,0,0,0,0,10,0,0,8,0,0,0,0,0,0,10,0,0,8,0,0,9,9,9,0,0,0,0,0,0,0,0,0,0],this.countMyShip=20,this.countEnemyShip=20}return r(e,[{key:"newGameLogic",value:function(e){this.enemyMatrix=[1,0,0,0,6,6,0,0,7,0,0,0,0,0,0,0,0,0,7,0,0,0,0,5,5,0,0,0,0,0,3,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,0,2,0,0,0,10,0,0,8,0,0,0,0,0,0,10,0,0,8,0,0,0,0,0,0,10,0,0,8,0,0,9,9,9,0,0,0,0,0,0,0,0,0,0],this.matrixShips=e,this.countMyShip=20,this.countEnemyShip=20}},{key:"shot",value:function(e){if(this.myFire(e)&&this.botFire(),!this.countEnemyShip){(new u.default).hide();(new o.WinScene).show()}if(!this.countMyShip){(new u.default).hide();(new o.LoseScene).show()}}},{key:"myFire",value:function(e){var t=+e.id[0],n=+e.id[2];if(this.enemyMatrix[10*t+n]<0||100==this.enemyMatrix[10*t+n])return!1;if(this.enemyMatrix[10*t+n]){if(e.classList.add("shipFire"),this.enemyMatrix[10*t+n]=-this.enemyMatrix[10*t+n],this.killShip(-this.enemyMatrix[10*t+n],this.enemyMatrix))for(var i=0;i<10;i++)for(var r=0;r<10;r++)if(this.enemyMatrix[10*i+r]==this.enemyMatrix[10*t+n]){var o=document.getElementById(i+"-"+r);o.classList.remove("shipFire"),o.classList.add("shipDie")}return this.countEnemyShip--,!1}return this.enemyMatrix[10*t+n]=100,e.classList.add("Fire"),!0}},{key:"botFire",value:function(){var e=Math.floor(10*Math.random()),t=Math.floor(10*Math.random());if(this.matrixShips[10*e+t]<0||100==this.matrixShips[10*e+t])this.botFire();else if(this.matrixShips[10*e+t]){var n=document.getElementById(e+"+"+t);if(n.classList.remove("shipOK"),n.classList.add("shipFire"),this.matrixShips[10*e+t]=-this.matrixShips[10*e+t],this.killShip(-this.matrixShips[10*e+t],this.matrixShips))for(var i=0;i<10;i++)for(var r=0;r<10;r++)if(this.matrixShips[10*i+r]==this.matrixShips[10*e+t]){var o=document.getElementById(i+"+"+r);o.classList.remove("shipFire"),o.classList.add("shipDie")}this.countMyShip--,this.botFire()}else{this.matrixShips[10*e+t]=100;var a=document.getElementById(e+"+"+t);a.classList.add("Fire")}}},{key:"killShip",value:function(e,t){for(var n=0;n<t.length;n++)if(t[n]==e)return!1;return!0}}]),e}();t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(8),u=n(14),l=i(u),s=n(16),c=i(s),f=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(r(this,e),e.__instance)return e.__instance;if(e.__instance=this,this.move=t,!this.move){(new c.default).messageSocket(function(e){var t=e.data;t=JSON.parse(t);var n=t.class;if("MsgResultMove"==n||"MsgShipIsDestroyed"==n)this.fireEnemy(t);else if("MsgEndGame"==n)this.endGame(t);else if("MsgPing"==n){var i=new c.default;i.pingSocket()}else console.log("Ошибка")}.bind(this))}}return o(e,[{key:"shot",value:function(e){if(this.move){var t=this.createShot(e),n=new c.default;n.sendSocket(t),n.messageSocket(function(t){var n=t.data;n=JSON.parse(n);var i=n.class;if("MsgResultMove"==i||"MsgShipIsDestroyed"==i)this.fireMe(n,e);else if("MsgEndGame"==i)this.endGame(n);else if("MsgError"==i&&"unacceptable move "==n.error);else if("MsgPing"==i){var r=new c.default;r.pingSocket()}else console.log("Ошибка")}.bind(this))}}},{key:"createShot",value:function(e){var t={};t.rowPos=+e.id[0],t.colPos=+e.id[2];var n={};return n.class="MsgFireCoordinates",n.coordinates=t,n=JSON.stringify(n,"")}},{key:"fireEnemy",value:function(e){var t=void 0;"ON_FIRE"==e.cellStatus&&(t=document.getElementById(e.cell.rowPos+"+"+e.cell.colPos),t.classList.remove("shipOK"),t.classList.add("shipFire"),this.move=!1),"BLOCKED"==e.cellStatus&&(t=document.getElementById(e.cell.rowPos+"+"+e.cell.colPos),t.classList.add("Fire"),this.move=!0),"MsgShipIsDestroyed"==e.class&&(t=document.getElementById(e.destroyedShip.lastCell.rowPos+"+"+e.destroyedShip.lastCell.colPos),t.classList.remove("shipOK"),t.classList.add("shipFire"),this.shipDead(e,"+"),this.move=!1)}},{key:"fireMe",value:function(e,t){if("ON_FIRE"==e.cellStatus&&(t.classList.add("shipFire"),this.move=!0),"BLOCKED"==e.cellStatus&&(t.classList.add("Fire"),this.move=!1),"MsgShipIsDestroyed"==e.class&&(t.classList.add("shipFire"),this.shipDead(e,"-"),this.move=!0),!this.move){(new c.default).messageSocket(function(e){var t=e.data;t=JSON.parse(t);var n=t.class;if("MsgResultMove"==n||"MsgShipIsDestroyed"==n)this.fireEnemy(t);else if("MsgEndGame"==n)this.endGame(t);else if("MsgPing"==n){var i=new c.default;i.pingSocket()}else console.log("Ошибка")}.bind(this))}}},{key:"shipDead",value:function(e,t){for(var n=void 0,i=0;i<e.destroyedShip.length;i++)n=e.destroyedShip.isVertical?document.getElementById(e.destroyedShip.rowPos+i+t+e.destroyedShip.colPos):document.getElementById(e.destroyedShip.rowPos+t+(e.destroyedShip.colPos+i)),n.classList.remove("shipOK"),n.classList.remove("shipFire"),n.classList.add("shipDie")}},{key:"endGame",value:function(e){((new l.default).hide(),e.won)?(new a.WinScene).show():(new a.LoseScene).show()}}]),e}();t.default=f},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(4),a=function(e){return e&&e.__esModule?e:{default:e}}(o),u=function(){function e(t,n,r){i(this,e);var o=new a.default(document.body,"div","inline_block");t.appendChildWidget(o);var u=new a.default(document.body,"table","draggable");o.appendChildWidget(u);var l=new a.default(document.body,"td","shipX"+r);l.text=r,l.idName=n,u.appendChildWidget(l),this.shipSize=r,this.shipHP=r,this.liveFields=[],this.deadFields=[],this.turn=0}return r(e,[{key:"getSize",value:function(){return this.shipSize}},{key:"getLive",value:function(){return this.liveFields}},{key:"getDead",value:function(){return this.deadFields}},{key:"getTurn",value:function(){return this.turn}},{key:"setTurn",value:function(e){this.turn=e}},{key:"setLiveField",value:function(e){this.liveFields.push(e)}},{key:"setDeadField",value:function(e){this.deadFields.push(e),this.deleteLiveField(e)}},{key:"deleteLiveField",value:function(e){this.liveFields.splice(this.liveFields.indexOf(e),1),this.shipHP--}}]),e}();t.default=u},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(12),u=i(a),l=n(5),s=i(l),c=function(){function e(){r(this,e),this.url="/startGame/online"}return o(e,[{key:"show",value:function(){(0,u.default)(1)}},{key:"hide",value:function(){(new s.default).hide()}}]),e}();t.default=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(12),u=i(a),l=n(5),s=i(l),c=function(){function e(){r(this,e),this.url="/startGame/multiplayer"}return o(e,[{key:"show",value:function(){(0,u.default)(2)}},{key:"hide",value:function(){(new s.default).hide()}}]),e}();t.default=c},function(e,t,n){var i=n(50);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0};r.transform=void 0;n(2)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(1)(void 0),t.push([e.i,'body{margin:0;padding:0;background-image:url("/Resources/Textures/background-texture.png")}',""])},function(e,t,n){"use strict";e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(r))return e;var o;return o=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(o)+")"})}},function(e,t,n){var i=n(53);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0};r.transform=void 0;n(2)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(1)(void 0),t.push([e.i,".all_game{height:92%;padding:2%;overflow:hidden}.draggable{cursor:pointer}.table_field_td{border:2px solid #1d2d3b;text-align:center;border-collapse:collapse;width:35px;height:35px}.placeShips{font-family:Indie Flower,cursive;position:absolute;left:36%;font-size:50px}.table_field{border-collapse:collapse;position:absolute;top:25%;left:33%}.shipField{width:25%;position:absolute;top:27%}.inline_block{display:inline-block}.next_button{width:180px;top:75%;left:80%;font-weight:bolder}.next_button,.turnButton{height:50px;font-family:Indie Flower,cursive;position:absolute;font-size:xx-large}.turnButton{width:160px;top:17%;left:3%;font-weight:700}.shipX1{width:35px}.shipX1,.shipX2{border:3px solid green;height:38px;background-color:#3cff1f;color:transparent}.shipX2{width:74px}.shipX3{width:112px}.shipX3,.shipX4{border:3px solid green;height:38px;background-color:#3cff1f;color:transparent}.shipX4{width:154px}.field_ship{color:transparent}.h1_my{font-family:Indie Flower,cursive;left:20%;top:13%}.h1_my,.my_field{position:absolute}.my_field{border-collapse:collapse;left:5%;top:27%}.h1_enemy{font-family:Indie Flower,cursive;position:absolute;left:65%;top:13%}.enemy_field{border-collapse:collapse;position:absolute;left:51.5%;top:27%}.shipDie{background-color:red}.shipFire{background-color:#ff0}.shipOK{background-color:#adff2f}.Fire{background-color:indigo}.youWinLose{left:600px}.newScore,.youWinLose{position:relative;top:220px;width:200px}.newScore{left:580px}.backButton{width:230px;height:50px;font-family:Indie Flower,cursive;font-size:xx-large;font-weight:bolder}.backButtonScene{position:absolute;top:3%;left:2%}.backButtonWinLose{position:relative;left:615px;top:227px}.randomShips{width:220px;height:55px;font-family:Indie Flower,cursive;position:absolute;top:30%;left:77.2%;font-size:xx-large;font-weight:bolder}",""])},function(e,t,n){var i=n(55);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0};r.transform=void 0;n(2)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(1)(void 0),t.push([e.i,".flatLightGray{background-color:#f5f5f5;border:1px solid #212121}",""])},function(e,t,n){var i=n(57);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0};r.transform=void 0;n(2)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(1)(void 0),t.push([e.i,".profileBlock{width:200px;height:80px;border:1px solid #000;position:fixed;right:10px;top:10px;align-content:center;text-align:center}h3{font-size:30px}h3,h4{margin:auto}h4{font-size:20px}",""])},function(e,t,n){var i=n(59);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0};r.transform=void 0;n(2)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(1)(void 0),t.push([e.i,".error,.info{font-size:15px}.error{color:darkred}.submitButton{background:#d3d3d3;border:1px solid #212121}.alignCenter{margin:auto}",""])},function(e,t,n){var i=n(61);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0};r.transform=void 0;n(2)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(1)(void 0),t.push([e.i,".aboutText{margin-left:auto;margin-right:auto;width:50%;left:25%;text-align:center}.aboutLine{font-size:25px}",""])},function(e,t,n){var i=n(63);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0};r.transform=void 0;n(2)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(1)(void 0),t.push([e.i,".viewTitle{font-size:55px;text-align:center;margin:0;color:#12212a}.button{font-size:30px;text-align:center;cursor:hand}.button:hover{font-size:35px;text-align:center}.smallButton{font-size:15px;text-align:center;cursor:hand}.smallButton:hover{font-size:20px;text-align:center}",""])},function(e,t,n){var i=n(65);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0};r.transform=void 0;n(2)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(1)(void 0),t.push([e.i,".baseView{position:absolute;padding-top:10%;width:100%}",""])},function(e,t,n){var i=n(67);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0};r.transform=void 0;n(2)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(1)(void 0),t.push([e.i,".leaderTable{border:1px solid #000;width:50%;margin:auto;background-color:#212121}.tableHeader{color:#1d2d3b;background-color:#fff8dc}.contents,.tableHeader{border:1px solid #212121}.contents{background-color:#d3d3d3}",""])}]);